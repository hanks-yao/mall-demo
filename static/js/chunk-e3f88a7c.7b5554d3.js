(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e3f88a7c"],{"826d":function(e,r,t){},"98ec":function(e,r,t){"use strict";t("826d")},fdb6:function(e,r,t){"use strict";t.r(r);var s=t("f8b7"),o=t("8194"),a={name:"order-detail",data(){return{order:{},progressList:[],logistics:"",cancelParams:{orderSn:"",reason:""},cancelAvail:!1,cancelReason:[]}},methods:{goodsDetail(e,r){r=this.$router.resolve({path:"/goodsDetail",query:{skuId:e,goodsId:r}});window.open(r.href,"_blank")},shopPage(e){e=this.$router.resolve({path:"/Merchant",query:{id:e}});window.open(e.href,"_blank")},getDetail(){Object(s.i)(this.$route.query.sn).then(e=>{e.success&&(this.order=e.result,this.progressList=e.result.orderLogs)})},traces(){Object(s.h)(this.$route.query.sn).then(e=>{e.success&&(this.logistics=e.result)})},received(e){Object(s.j)(e).then(e=>{e.success&&(this.$Message.success("确认收货成功"),this.getDetail())})},goPay(e){this.$router.push({path:"/payment",query:{orderType:"ORDER",sn:e}})},applyAfterSale(e){this.$router.push({name:"ApplyAfterSale",query:{sn:e}})},comment(e,r){this.$router.push({path:"/home/addEval",query:{sn:e,index:r}})},complain(e,r){this.$router.push({name:"Complain",query:{sn:e,index:r}})},handleCancelOrder(e){this.cancelParams.orderSn=e,Object(o.f)("CANCEL").then(e=>{e.success&&(this.cancelReason=e.result,this.cancelAvail=!0,this.cancelParams.reason=this.cancelReason[0].reason)})},sureCancel(){Object(s.b)(this.cancelParams).then(e=>{e.success&&(this.$Message.success("取消订单成功"),this.getDetail(),this.cancelAvail=!1)})}},mounted(){this.getDetail(),this.traces()}},t=(t("98ec"),t("2877")),a=Object(t.a)(a,function(){var s=this,e=s.$createElement,o=s._self._c||e;return s.order.order?o("div",{staticClass:"order-detail"},[o("card",{attrs:{_Title:"订单详情",_Size:16}}),s.order.allowOperationVO.pay||s.order.allowOperationVO.rog||s.order.allowOperationVO.cancel?o("Card",{staticClass:"mb_10"},[s.order.allowOperationVO.pay?o("Button",{attrs:{type:"success",size:"small"},on:{click:function(e){return s.goPay(s.order.order.sn)}}},[s._v("去支付")]):s._e(),s.order.allowOperationVO.rog?o("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return s.received(s.order.order.sn)}}},[s._v("确认收货")]):s._e(),s.order.allowOperationVO.cancel?o("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return s.handleCancelOrder(s.order.order.sn)}}},[s._v("取消订单")]):s._e()],1):s._e(),s.order.order.verificationCode?o("p",{staticClass:"verificationCode"},[s._v("核验码："),o("span",[s._v(s._s(s.order.order.verificationCode))])]):s._e(),o("div",{staticClass:"order-card"},[o("p",{staticClass:"global_color fontsize_18"},[s._v(s._s(s.order.orderStatusValue))]),o("p",[s._v("订单号："+s._s(s.order.order.sn))]),o("div",{staticClass:"operation-time",staticStyle:{color:"#999"}},[s._v("操作时间："+s._s(s.order.order.updateTime))]),o("Steps",{staticClass:"progress",attrs:{current:s.progressList.length,direction:"vertical"}},s._l(s.progressList,function(e,r){return o("Step",{key:r,attrs:{title:e.message,content:e.createTime}})}),1)],1),o("div",{staticClass:"order-card"},[o("h3",[s._v("收货人信息")]),o("p",[s._v("收货人："+s._s(s.order.order.consigneeName))]),o("p",[s._v("手机号码："+s._s(s._f("secrecyMobile")(s.order.order.consigneeMobile)))]),o("p",[s._v("收货地址："+s._s(s._f("unitAddress")(s.order.order.consigneeAddressPath))+" "+s._s(s.order.order.consigneeDetail))])]),o("div",{staticClass:"order-card"},[o("h3",[s._v("付款信息")]),o("p",[s._v("支付方式："+s._s(s.order.paymentMethodValue))]),o("p",[s._v("付款状态："+s._s(s.order.payStatusValue))])]),s.order.order.verificationCode?s._e():o("div",{staticClass:"order-card"},[o("h3",[s._v("配送信息")]),o("p",[s._v("配送方式："+s._s(s.order.deliveryMethodValue))]),o("p",[s._v("配送状态："+s._s(s.order.deliverStatusValue))]),s.logistics?o("p",[s._v("物流信息："+s._s(s.logistics.shipper||"暂无物流信息"))]):s._e(),s.logistics?o("p",[s._v("物流单号："+s._s(s.logistics.logisticCode||"暂无物流单号"))]):s._e(),s.logistics?o("div",{staticClass:"div-express-log"},[o("div",{staticClass:"express-log"},[o("p",[s._v("订单日志：")]),s._l(s.logistics.traces,function(e,r){return o("div",{key:r},[o("span",{staticClass:"time"},[s._v(s._s(e.AcceptTime))]),o("span",{staticClass:"detail"},[s._v(s._s(e.AcceptStation))])])})],2)]):s._e()]),o("div",{staticClass:"order-card"},[o("h3",[s._v("发票信息")]),s.order.order.receipt?[o("p",[s._v("发票抬头："+s._s(s.order.order.receiptVO.receiptTitle))]),o("p",[s._v("发票内容："+s._s(s.order.order.receiptVO.receiptContent))]),s.order.order.receiptVO.taxpayerId?o("p",[s._v("纳税人识别号："+s._s(s.order.order.receiptVO.taxpayerId))]):s._e()]:o("div",{staticStyle:{color:"#999","margin-left":"5px"}},[s._v(" 未开发票 ")])],2),o("div",{staticClass:"goods"},[o("div",{staticClass:"shop-name"},[o("span",{on:{click:function(e){return s.shopPage(s.order.order.storeId)}}},[s._v(s._s(s.order.order.storeName))])]),o("table",[s._m(0),o("tbody",s._l(s.order.orderItems,function(r,t){return o("tr",{key:t},[o("td",[o("img",{attrs:{src:r.image,alt:""},on:{click:function(e){return s.goodsDetail(r.skuId,r.goodsId)}}}),o("div",[o("p",{staticClass:"hover-color",on:{click:function(e){return s.goodsDetail(r.skuId,r.goodsId)}}},[s._v(" "+s._s(r.goodsName)+" ")])])]),o("td",[s._v(s._s(r.id))]),o("td",[s._v(s._s(s._f("unitPrice")(r.goodsPrice,"￥")))]),o("td",[s._v(s._s(r.num))]),o("td",[s._v(s._s(s._f("unitPrice")(r.goodsPrice*r.num,"￥")))]),o("td",[r.afterSaleStatus.includes("NOT_APPLIED")||r.afterSaleStatus.includes("PART_AFTER_SALE")?o("Button",{staticClass:"mb_5",attrs:{type:"info",size:"small"},on:{click:function(e){return s.applyAfterSale(r.sn)}}},[s._v("申请售后")]):s._e(),"UNFINISHED"==r.commentStatus?o("Button",{staticClass:"fontsize_12 mb_5",attrs:{size:"small",type:"success"},on:{click:function(e){return s.comment(s.order.order.sn,t)}}},[s._v("评价")]):s._e(),"NO_APPLY"==r.complainStatus?o("Button",{staticClass:"fontsize_12",attrs:{type:"warning",size:"small"},on:{click:function(e){return s.complain(s.order.order.sn,t)}}},[s._v("投诉")]):s._e()],1)])}),0)]),o("div",{staticClass:"order-price"},[o("div",[o("span",[s._v("商品件数：")]),o("span",[s._v(s._s(s.order.order.goodsNum)+"件")])]),o("div",[o("span",[s._v("商品总价：")]),o("span",[s._v(s._s(s._f("unitPrice")(s.order.order.goodsPrice,"￥")))]),o("br")]),o("div",[o("span",[s._v("运费：")]),o("span",[s._v("+"+s._s(s._f("unitPrice")(s.order.order.freightPrice,"￥")))]),o("br")]),s.order.order.priceDetailDTO.couponPrice?o("div",[o("span",[s._v("优惠券：")]),o("span",[s._v("-"+s._s(s._f("unitPrice")(s.order.order.priceDetailDTO.couponPrice||0,"￥")))])]):s._e(),s.order.order.discountPrice?o("div",[o("span",[s._v("活动优惠：")]),o("span",[s._v("-"+s._s(s._f("unitPrice")(s.order.order.discountPrice,"￥")))])]):s._e(),o("div",[o("span",[s._v("应付金额：")]),o("span",{staticClass:"actrual-price"},[s._v(s._s(s._f("unitPrice")(s.order.order.flowPrice,"￥")))])])])]),o("Modal",{attrs:{title:"请选择取消订单原因"},on:{"on-ok":s.sureCancel,"on-cancel":function(e){s.cancelAvail=!1}},model:{value:s.cancelAvail,callback:function(e){s.cancelAvail=e},expression:"cancelAvail"}},[o("RadioGroup",{attrs:{vertical:"",type:"button","button-style":"solid"},model:{value:s.cancelParams.reason,callback:function(e){s.$set(s.cancelParams,"reason",e)},expression:"cancelParams.reason"}},s._l(s.cancelReason,function(e){return o("Radio",{key:e.id,attrs:{label:e.reason}},[s._v(" "+s._s(e.reason)+" ")])}),1)],1)],1):s._e()},[function(){var e=this,r=e.$createElement,r=e._self._c||r;return r("thead",[r("tr",[r("th",{attrs:{width:"40%"}},[e._v("商品")]),r("th",{attrs:{width:"20%"}},[e._v("货号")]),r("th",{attrs:{width:"10%"}},[e._v("单价")]),r("th",{attrs:{width:"10%"}},[e._v("数量")]),r("th",{attrs:{width:"10%"}},[e._v("小计")]),r("th",{attrs:{width:"10%"}},[e._v("操作")])])])}],!1,null,"33072916",null);r.default=a.exports}}]);