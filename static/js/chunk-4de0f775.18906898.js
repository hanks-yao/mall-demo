(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4de0f775"],{"20bd":function(t,e,s){},"24ea":function(t,e,s){},"5fed":function(t,e,s){},"6ce5":function(t,e,s){t.exports=s.p+"static/img/shop-info.690c8eab.png"},7861:function(t,e,s){"use strict";var i={props:{time:{default:1718977559428},type:{default:"goodsDetail",type:String}},data(){return{end:"",hours:"",minutes:"",seconds:"",interval:""}},mounted(){this.init()},methods:{countDown(t){function e(t){return t<10?"0"+t:t+""}var s=new Date,i=new Date(t),a=parseInt((i.getTime()-s.getTime())/1e3),t=parseInt(a/3600%24),i=parseInt(a/60%60),s=parseInt(a%60),t=e(t),i=e(i),s=e(s);this.hours=t,this.minutes=i,this.seconds=s,a<=0&&(this.end="活动已结束",clearInterval(this.interval))},init(){this.interval=setInterval(()=>{this.countDown(this.time)},1e3)}}},s=(s("a01a"),s("2877")),i=Object(s.a)(i,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",["goodsDetail"===t.type?e("div",{staticClass:"wrapper"},[e("div",{staticClass:"wr-l"},[e("Icon",{attrs:{size:"23",type:"ios-alarm-outline"}}),t._v(" 秒杀活动")],1),""===t.end?e("div",{staticClass:"count-down"},[e("p",[t._v("倒计时：")]),e("span",[t._v(t._s(t.hours))]),e("span",[t._v(t._s(t.minutes))]),e("span",[t._v(t._s(t.seconds))])]):e("div",[t._v(t._s(t.end))])]):e("span",{staticClass:"cart-promotion"},[""===t.end?e("span",[t._v("距活动结束："),e("span",[t._v(t._s(t.hours))]),t._v(" : "),e("span",[t._v(t._s(t.minutes))]),t._v(" : "),e("span",[t._v(t._s(t.seconds))])]):e("span",[t._v("活动已结束")])])])},[],!1,null,"d6d9a094",null);e.a=i.exports},"84a9":function(t,e,s){"use strict";s.d(e,"b",function(){return o}),s.d(e,"c",function(){return r}),s.d(e,"e",function(){return n}),s.d(e,"g",function(){return c}),s.d(e,"f",function(){return l}),s.d(e,"a",function(){return d}),s.d(e,"d",function(){return u});var i=s("ff66"),a=s("f49f");function o(t){return Object(i.d)({url:"/buyer/store/apply/first",needToken:!0,method:i.a.PUT,params:t})}function r(t){return Object(i.d)({url:"/buyer/store/apply/second",needToken:!0,method:i.a.PUT,params:t})}function n(t){return Object(i.d)({url:"/buyer/store/apply/third",needToken:!0,method:i.a.PUT,params:t})}function c(t){return a}function l(t){return Object(i.d)({url:"/buyer/store/label/get/"+t,needToken:!0,method:i.a.GET})}function d(){return Object(i.d)({url:"/buyer/article/type/STORE_REGISTER",needToken:!0,method:i.a.GET})}function u(){return Object(i.d)({url:"/buyer/store/apply",needToken:!0,method:i.a.GET})}},a01a:function(t,e,s){"use strict";s("ce84")},c2bd:function(t,e,s){"use strict";s.r(e);var i=s("c106"),a={name:"ShopHeader",props:{detail:{type:Object,default:null}},computed:{storeDetail(){return this.detail}}},o=(s("d608"),s("2877")),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"shop-box"},[t("div",{staticClass:"shop-container"},[t("div",{staticClass:"shop-title-content"},[t("img",{staticClass:"hover-pointer",attrs:{src:e.storeDetail.storeLogo,height:"40",alt:""},on:{click:function(t){return e.linkTo("/merchant?id="+e.storeDetail.storeId)}}}),t("p",[t("router-link",{attrs:{to:"/merchant?id="+e.storeDetail.storeId}},[e._v(e._s(e.storeDetail.storeName))])],1),t("div",{staticClass:"ml_20",domProps:{innerHTML:e._s(e.storeDetail.storeDesc)}})])])])},[],!1,null,"11c1636c",null).exports,n=s("7861"),c=s("86bd"),l=s("8194"),d=s("2166"),u={name:"ShowGoods",props:{detail:{type:Object,default:null}},data(){return{count:1,imgIndex:0,currentSelceted:[],imgList:[{url:""}],skuDetail:this.detail.data,goodsSpecList:this.detail.specs,promotionMap:{SECKILL:null,FULL_DISCOUNT:null,COUPON:[]},formatList:[],loading:!1,loading1:!1,isCollected:!1}},components:{PicZoom:c.a,Promotion:n.a},methods:{select(t,e){this.$set(this.currentSelceted,t,e);e=this.goodsSpecList.find(t=>{let e=!0,s=t.specValues.filter(t=>"images"!==t.specName);for(let t=0;t<s.length;t++)if(s[t].specValue!==this.currentSelceted[t])return void(e=!1);if(e)return t});this.$router.push({path:"/goodsDetail",query:{skuId:e.skuId,goodsId:this.skuDetail.goodsId}})},addShoppingCartBtn(){var t={num:this.count,skuId:this.skuDetail.id};this.loading=!0,Object(d.a)(t).then(t=>{this.loading=!1,t.success?this.$router.push({path:"/shoppingCart",query:{detail:this.skuDetail,count:this.count}}):this.$Message.warning(t.message)}).catch(()=>{this.loading=!1})},buyNow(){const e={num:this.count,skuId:this.skuDetail.id,cartType:"BUY_NOW"};"VIRTUAL_GOODS"===this.skuDetail.goodsType&&(e.cartType="VIRTUAL"),this.loading1=!0,Object(d.a)(e).then(t=>{this.loading1=!1,t.success?this.$router.push({path:"/pay",query:{way:e.cartType}}):this.$Message.warning(t.message)}).catch(()=>{this.loading1=!1})},async collect(){this.isCollected?(await Object(l.k)("GOODS",this.skuDetail.id)).success&&(this.$Message.success("取消收藏成功"),this.isCollected=!1):200===(await Object(l.o)("GOODS",this.skuDetail.id)).code&&(this.isCollected=!0,this.$Message.success("收藏商品成功,可以前往个人中心我的收藏查看"))},formatSku(t){let o=[{}];t.forEach((s,t)=>{s.specValues.forEach((t,e)=>{let i=t.specName,a={value:t.specValue,quantity:s.quantity};"images"!==i&&o.forEach((t,e)=>{t.name===i&&t.values&&!t.values.find(t=>t.value===a.value)&&t.values.push(a);let s=o.map(t=>t.name);s.includes(i)||o.push({name:i,values:[a]})})})}),o.shift(),this.formatList=o;let e=t.filter(t=>t.skuId===this.$route.query.skuId)[0];e&&e.specValues.filter(t=>"images"!==t.specName).forEach((t,e)=>{this.currentSelceted[e]=t.specValue}),this.skuList=t},receiveCoupon(t){Object(l.N)(t).then(t=>{t.success?this.$Message.success("优惠券领取成功"):this.$Message.warning(t.message)})},promotion(){if(!this.detail.promotionMap)return!1;let e=Object.keys(this.detail.promotionMap);if(0===e.length)return!1;for(let t=0;t<e.length;t++){var s=e[t].split("-")[0];"COUPON"===s?this.promotionMap[s].push(this.detail.promotionMap[e[t]]):this.promotionMap[s]=this.detail.promotionMap[e[t]]}}},mounted(){this.Cookies.getItem("userInfo")&&Object(l.H)("GOODS",this.skuDetail.id).then(t=>{t.success&&t.result&&(this.isCollected=!0)}),this.detail.data.specList.forEach(t=>{"images"===t.specName&&(this.imgList=t.specImage)}),this.formatSku(this.goodsSpecList),this.promotion(),document.title=this.skuDetail.goodsName}},a=(s("f4a3"),Object(o.a)(u,function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"item-detail-show"},[a("div",{staticClass:"item-detail-left"},[a("div",{staticClass:"item-detail-big-img"},[a("pic-zoom",{attrs:{url:i.imgList[i.imgIndex].url,scale:2}})],1),"VIRTUAL_GOODS"!==i.skuDetail.goodsType?a("div",{staticStyle:{"margin-top":"10px"}},[i._v("实物商品")]):"VIRTUAL_GOODS"==i.skuDetail.goodsType?a("div",{staticStyle:{"margin-top":"10px"}},[i._v("虚拟商品")]):i._e(),a("div",{staticClass:"item-detail-img-row"},i._l(i.imgList,function(t,e){return a("div",{key:e,staticClass:"item-detail-img-small",on:{mouseover:function(t){i.imgIndex=e}}},[a("img",{attrs:{src:t.url}})])}),0),a("div",{staticClass:"goodsConfig mt_10"},[a("span",{on:{click:i.collect}},[a("Icon",{attrs:{type:"ios-heart",color:i.isCollected?"#ed3f14":"#666"}}),i._v(i._s(i.isCollected?"已收藏":"收藏"))],1)])]),a("div",{staticClass:"item-detail-right"},[a("div",{staticClass:"item-detail-title"},[a("p",[i._v(" "+i._s(i.skuDetail.goodsName)+" ")])]),a("div",{staticClass:"sell-point"},[i._v(" "+i._s(i.skuDetail.sellingPoint)+" ")]),i.promotionMap.SECKILL?a("Promotion",{attrs:{time:i.promotionMap.SECKILL.endTime}}):i._e(),a("div",{staticClass:"item-detail-price-row"},[a("div",{staticClass:"item-price-left"},[i.skuDetail.promotionPrice&&i.promotionMap.SECKILL?a("div",{staticClass:"item-price-row"},[a("p",[i.promotionMap.SECKILL?a("span",{staticClass:"item-price-title"},[i._v("秒  杀 价")]):i._e(),a("span",{staticClass:"item-price"},[i._v(i._s(i._f("unitPrice")(i.skuDetail.promotionPrice,"￥")))]),a("span",{staticClass:"item-price-old"},[i._v(i._s(i._f("unitPrice")(i.skuDetail.price,"￥")))])])]):a("div",{staticClass:"item-price-row"},[a("p",[a("span",{staticClass:"item-price-title"},[i._v("价     格")]),a("span",{staticClass:"item-price"},[i._v(i._s(i._f("unitPrice")(i.skuDetail.price,"￥")))])])]),i.promotionMap.COUPON.length?a("div",{staticClass:"item-price-row"},[a("p",[a("span",{staticClass:"item-price-title"},[i._v("优 惠 券")]),i._l(i.promotionMap.COUPON,function(e,t){return a("span",{key:t,staticClass:"item-coupon",on:{click:function(t){return i.receiveCoupon(e.id)}}},["PRICE"==e.couponType?a("span",[i._v("满"+i._s(e.consumeThreshold)+"减"+i._s(e.price))]):i._e(),"DISCOUNT"==e.couponType?a("span",[i._v("满"+i._s(e.consumeThreshold)+"打"+i._s(e.couponDiscount)+"折")]):i._e()])})],2)]):i._e(),i.promotionMap.FULL_DISCOUNT?a("div",{staticClass:"item-price-row"},[a("p",[a("span",{staticClass:"item-price-title"},[i._v("促     销")]),a("span",{staticClass:"item-promotion"},[i._v("满减")]),i.promotionMap.FULL_DISCOUNT.fullMinus?a("span",{staticClass:"item-desc-pintuan"},[i._v("满"+i._s(i.promotionMap.FULL_DISCOUNT.fullMoney)+"元，立减现金"+i._s(i.promotionMap.FULL_DISCOUNT.fullMinus)+"元")]):i._e(),i.promotionMap.FULL_DISCOUNT.fullRate?a("span",{staticClass:"item-desc-pintuan"},[i._v("满"+i._s(i.promotionMap.FULL_DISCOUNT.fullMoney)+"元，立享"+i._s(i.promotionMap.FULL_DISCOUNT.fullRate)+"折")]):i._e()])]):i._e()]),a("div",{staticClass:"item-price-right"},[a("div",{staticClass:"item-remarks-sum"},[a("p",[i._v("累计评价")]),a("p",[a("span",{staticClass:"item-remarks-num"},[i._v(i._s(i.skuDetail.commentNum||0)+" 条")])])])])]),i._l(i.formatList,function(t,s){return a("div",{key:t.name,staticClass:"item-select"},[a("div",{staticClass:"item-select-title"},[a("p",[i._v(i._s(t.name))])]),a("div",{staticClass:"item-select-column"},i._l(t.values,function(e){return a("div",{key:e.value,staticClass:"item-select-row"},[a("div",{staticClass:"item-select-box",class:{"item-select-box-active":e.value===i.currentSelceted[s]},on:{click:function(t){return i.select(s,e.value)}}},[a("div",{staticClass:"item-select-intro"},[a("p",[i._v(i._s(e.value))])])])])}),0)])}),a("br"),a("div",{staticClass:"add-buy-car-box"},[a("div",{staticClass:"item-select"},[i._m(0),a("div",{staticClass:"item-select-row"},[a("InputNumber",{attrs:{min:1,max:i.skuDetail.quantity,disabled:0===i.skuDetail.quantity,precision:.1},model:{value:i.count,callback:function(t){i.count=t},expression:"count"}}),a("span",{staticClass:"inventory"},[i._v(" 库存"+i._s(i.skuDetail.quantity))])],1)]),"VIRTUAL_GOODS"!==i.skuDetail.goodsType&&0!==i.skuDetail.weight?a("div",{staticClass:"item-select"},[i._m(1),a("div",{staticClass:"item-select-row"},[a("span",{staticClass:"inventory"},[i._v(" "+i._s(i.skuDetail.weight)+"kg")])])]):i._e(),"POINT"===i.$route.query.way&&"PASS"===i.skuDetail.authFlag?a("div",{staticClass:"add-buy-car"},[a("Button",{attrs:{type:"error",loading:i.loading,disabled:0===i.skuDetail.quantity},on:{click:i.pointPay}},[i._v("积分购买")])],1):i._e(),"POINT"!==i.$route.query.way&&"PASS"===i.skuDetail.authFlag?a("div",{staticClass:"add-buy-car"},["VIRTUAL_GOODS"!==i.skuDetail.goodsType?a("Button",{attrs:{type:"error",loading:i.loading,disabled:0===i.skuDetail.quantity},on:{click:i.addShoppingCartBtn}},[i._v("加入购物车")]):i._e(),a("Button",{attrs:{type:"warning",loading:i.loading1,disabled:0===i.skuDetail.quantity},on:{click:i.buyNow}},[i._v("立即购买")])],1):i._e()])],2)])])},[function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"item-select-title"},[t("p",[this._v("数量")])])},function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"item-select-title"},[t("p",[this._v("重量")])])}],!1,null,"5692c76c",null)).exports,c={name:"ShowGoodsDetail",props:{detail:{type:Object,default:null}},data(){return{commentList:[],commentParams:{pageNumber:1,pageSize:10,grade:"",goodsId:""},commentTypeNum:{},commentTotal:0,onceFlag:!0}},computed:{skuDetail(){return this.detail.data}},methods:{changeHeight(t){},changePageNum(t){this.commentParams.pageNumber=t,this.getList()},changePageSize(t){this.commentParams.pageNumber=1,this.commentParams.pageSize=t,this.getList()},async getList(){this.commentParams.goodsId=this.skuDetail.goodsId;var t=await Object(l.E)(this.commentParams);t.success&&(this.commentList=t.result.records,this.commentTotal=t.result.total);t=await Object(l.F)(this.skuDetail.goodsId);t.success&&(this.commentTypeNum=t.result)},viewByGrade(t){this.$set(this.commentParams,"grade",t),this.commentParams.pageNumber=1,this.getList()},tabClick(t){0===t?this.$nextTick(()=>{this.changeHeight("itemIntroGoods")}):this.$nextTick(()=>{this.changeHeight("itemGoodsComment")})},previewImg(t,e){this.$set(e,"previewImg",t),this.$nextTick(()=>{this.changeHeight("itemGoodsComment")})},hidePreviewImg(t){this.$set(t,"previewImg",""),this.$nextTick(()=>{this.changeHeight("itemGoodsComment")})},rotatePreviewImg(t,e){t?e.deg?this.$set(e,"deg",e.deg+90):this.$set(e,"deg",90):e.deg?this.$set(e,"deg",e.deg-90):this.$set(e,"deg",-90)},handleScroll(){this.onceFlag&&(this.$nextTick(()=>{this.changeHeight("itemIntroGoods")}),this.onceFlag=!1)}},mounted(){this.$nextTick(()=>{setTimeout(this.changeHeight("itemIntroGoods"),2e3)}),window.addEventListener("scroll",this.handleScroll),this.getList(),null!==this.skuDetail.grade&&void 0!==this.skuDetail.grade||(this.skuDetail.grade=100)}},n=(s("ed2f"),Object(o.a)(c,function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"item-intro-show"},[a("div",{ref:"itemIntroDetail",staticClass:"item-intro-detail"},[a("div",{staticClass:"item-intro-nav item-tabs"},[a("Tabs",{attrs:{animated:!1},on:{"on-click":i.tabClick}},[a("TabPane",{attrs:{label:"商品介绍"}},[a("div",{ref:"itemIntroGoods",staticClass:"item-intro-img"},[i.skuDetail.attr?a("div",{staticClass:"item-intro-attr",domProps:{innerHTML:i._s(i.skuDetail.attr)}}):i._e(),i.skuDetail.intro?a("div",{domProps:{innerHTML:i._s(i.skuDetail.intro)}}):a("div",{staticStyle:{margin:"20px"}},[i._v("暂无商品介绍")])])]),a("TabPane",{attrs:{label:"商品评价"}},[a("div",{ref:"itemGoodsComment",staticClass:"remarks-container"},[a("div",{staticClass:"remarks-analyse-box"},[a("div",{staticClass:"remarks-analyse-goods"},[a("i-circle",{attrs:{percent:i.skuDetail.grade,"stroke-color":"#5cb85c"}},[a("span",{staticClass:"remarks-analyse-num"},[i._v(i._s(i.skuDetail.grade)+"%")]),a("p",{staticClass:"remarks-analyse-title"},[i._v("好评率")])])],1)]),a("div",{staticClass:"remarks-bar"},[a("span",{class:{selectedBar:""===i.commentParams.grade},on:{click:function(t){return i.viewByGrade("")}}},[i._v("全部("+i._s(i.commentTypeNum.all)+")")]),a("span",{class:{selectedBar:"GOOD"===i.commentParams.grade},on:{click:function(t){return i.viewByGrade("GOOD")}}},[i._v("好评("+i._s(i.commentTypeNum.good)+")")]),a("span",{class:{selectedBar:"MODERATE"===i.commentParams.grade},on:{click:function(t){return i.viewByGrade("MODERATE")}}},[i._v("中评("+i._s(i.commentTypeNum.moderate)+")")]),a("span",{class:{selectedBar:"WORSE"===i.commentParams.grade},on:{click:function(t){return i.viewByGrade("WORSE")}}},[i._v("差评("+i._s(i.commentTypeNum.worse)+")")])]),0===i.commentList.length?a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[i._v(" 暂无评价数据 ")]):i._l(i.commentList,function(s,t){return a("div",{key:t,staticClass:"remarks-box"},[a("div",{staticClass:"remarks-user"},[a("Avatar",{attrs:{src:s.memberProfile}}),a("span",{staticClass:"remarks-user-name"},[i._v(i._s(i._f("secrecyMobile")(s.memberName)))])],1),a("div",{staticClass:"remarks-content-box"},[a("p",[a("Rate",{staticClass:"remarks-star",attrs:{disabled:"",value:Number(s.descriptionScore),"allow-half":""}})],1),a("p",{staticClass:"remarks-content"},[i._v(i._s(s.content))]),s.images?a("div",{staticClass:"comment-img"},i._l(s.images.split(","),function(e,t){return a("div",{key:t,class:{borderColor:e===s.previewImg},on:{click:function(t){return i.previewImg(e,s)}}},[a("img",{attrs:{src:e,alt:""}})])}),0):i._e(),s.previewImg?a("div",{staticClass:"preview-img",on:{click:function(t){return t.preventDefault(),i.hidePreviewImg(s)}}},[a("div",[a("span",{on:{click:function(t){return t.stopPropagation(),i.rotatePreviewImg(0,s)}}},[a("Icon",{attrs:{type:"md-refresh"}}),i._v("左转")],1),a("span",{on:{click:function(t){return t.stopPropagation(),i.rotatePreviewImg(1,s)}}},[a("Icon",{attrs:{type:"md-refresh"}}),i._v("右转")],1)]),a("img",{style:{transform:"rotate("+s.deg+"deg)"},attrs:{src:s.previewImg,width:"198",alt:""}})]):i._e(),a("p",{staticClass:"remarks-sub"},[a("span",{staticClass:"remarks-item"},[i._v(i._s(s.goodsName))]),a("span",{staticClass:"remarks-time"},[i._v(i._s(s.createTime))])])])])}),a("div",{staticClass:"remarks-page"},[a("Page",{attrs:{total:i.commentTotal,size:"small","page-size":i.commentParams.pageSize},on:{"on-change":i.changePageNum,"on-page-size-change":i.changePageSize}})],1)],2)]),a("TabPane",{attrs:{label:"商品参数"}},[i.detail.goodsParamsDTOList&&i.detail.goodsParamsDTOList.length?i._l(i.detail.goodsParamsDTOList,function(t){return a("div",{key:t.groupId,staticClass:"goods-params"},[a("span",{staticClass:"ml_10"},[i._v(i._s(t.groupName))]),a("table",{staticClass:"mb_10",attrs:{cellpadding:"0",cellspacing:"0"}},i._l(t.goodsParamsItemDTOList,function(t){return a("tr",{key:t.paramId},[a("td",{staticStyle:{"text-align":"center"}},[i._v(i._s(t.paramName))]),a("td",[i._v(i._s(t.paramValue))])])}),0)])}):a("div",[i._v("暂无商品参数")])],2)],1)],1)])])},[],!1,null,"0875147e",null)).exports,u={props:{title:{default:"发现好物",type:String},round:{default:0,type:Number}},data(){return{goods:[{img:"https://img.vvic.com/1639102593060_276068.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"41",store:"依依服饰"},{img:"https://img.vvic.com/1639102757805_567691.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"86",store:"依依服饰"},{img:"https://img.vvic.com/1637225340325_193609.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"89",store:"依依服饰"},{img:"https://img.vvic.com/1640177932618_248086.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"56",store:"依依服饰"},{img:"https://img.vvic.com/1641371286725_478577.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"78",store:"依依服饰"},{img:"https://img.vvic.com/1635151807598_443230.jpg?x-os…cess=image/resize,w_300,h_300,limit_0/format,webp",price:"98",store:"依依服饰"}]}},computed:{roundGoods(){return 0===this.round?[...this.goods].slice(0,3):[...this.goods].slice(3)}}},c=(s("ff15"),Object(o.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box-container"},[s("div",{staticClass:"box-head"},[e._v(e._s(e.title))]),s("div",{staticClass:"box-body"},[s("div",{staticClass:"goods-card-list"},e._l(e.roundGoods,function(t){return s("div",{key:t.img,staticClass:"goods-item"},[s("div",{staticClass:"goods-img"},[s("img",{attrs:{src:t.img}})]),s("div",{staticClass:"goods-desc"},[s("div",{staticClass:"goods-price"},[e._v("¥ "+e._s(t.price))]),s("div",{staticClass:"goods-store"},[e._v(e._s(t.store))])])])}),0)])])},[],!1,null,"cd6c532e",null)).exports,m=s("c40e"),p=s("84a9"),g=s("2934"),u=s("6ce5"),h=s.n(u),c={name:"GoodsDetail",beforeRouteEnter(t,e,s){window.scrollTo(0,0),s()},created(){this.getGoodsDetail()},data(){return{shopImg:h.a,goodsMsg:{},isLoading:!1,categoryBar:[],storeCollected:!1,storeMsg:{},IMLink:""}},methods:{IMService(){window.open(this.IM)},async getIMDetailMethods(){var t=await Object(g.d)();t.success&&(this.IMLink=t.result)},async getGoodsDetail(){this.isLoading=!0;const t=this.$route.query;let s=t&&t.distributionId?t.distributionId:this.Cookies.getItem("distributionId");s&&(this.Cookies.setItem("distributionId",t.distributionId),(await Object(l.A)(t.distributionId)).success&&this.Cookies.removeItem("distributionId"));var e=await Object(m.d)(t);if(this.isLoading=!1,e.success){const t=e.result,s=t.categoryName,i=t.data.categoryPath.split(","),a=[];i.forEach((t,e)=>{a.push({id:t,name:s[e]})}),this.categoryBar=a,this.goodsMsg=e.result,this.Cookies.getItem("userInfo")&&Object(l.H)("STORE",this.goodsMsg.data.storeId).then(t=>{t.success&&t.result&&(this.storeCollected=!0)}),this.getStoreDetail(this.goodsMsg.data.storeId)}else this.$Message.error(e.message),this.$router.push("/")},async getStoreDetail(t){t=await Object(p.g)(t);t.success&&(this.storeMsg=t.result)},goGoodsList(s){const i=[];return this.categoryBar.forEach((t,e)=>{e<=s&&i.push(t.id)}),"/goodsList?categoryId="+i.toString()},async collect(){this.storeCollected?(await Object(l.k)("STORE",this.goodsMsg.data.storeId)).success&&(this.$Message.success("已取消收藏"),this.storeCollected=!1):200===(await Object(l.o)("STORE",this.goodsMsg.data.storeId)).code&&(this.storeCollected=!0,this.$Message.success("收藏店铺成功,可以前往个人中心我的收藏查看"))}},watch:{"$route.query.skuId":function(t){location.reload()}},computed:{IM(){return this.IMLink+this.storeMsg.merchantEuid}},components:{Search:i.a,ShopHeader:r,ShowGoods:a,ShowGoodsDetail:n,FxhhBox:c}},c=(s("d915"),Object(o.a)(c,function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticStyle:{background:"#fff"}},[i("BaseHeader"),i("Search"),i("drawer"),i("ShopHeader",{attrs:{detail:s.storeMsg}}),i("div",{staticClass:"shop-item-path"},[i("div",{staticClass:"shop-nav-container"},[i("Breadcrumb",[i("BreadcrumbItem",{attrs:{to:"/"}},[s._v("首页")]),s._l(s.categoryBar,function(t,e){return i("BreadcrumbItem",{key:e,attrs:{to:s.goGoodsList(e),target:"_blank"}},[s._v(" "+s._s(t.name)+" ")])})],2),i("div",{staticClass:"store-collect"},[s.goodsMsg.data?i("span",{staticClass:"mr_10"},[i("router-link",{attrs:{to:"Merchant?id="+s.goodsMsg.data.storeId}},[s._v(s._s(s.storeMsg.storeName))])],1):s._e(),i("span",{on:{click:s.collect}},[i("Icon",{attrs:{type:"ios-heart",color:s.storeCollected?"#ed3f14":"#666"}}),s._v(" "+s._s(s.storeCollected?"已收藏店铺":"收藏店铺")+" ")],1),s.storeMsg.merchantEuid?i("span",{staticClass:"ml_10",on:{click:function(t){return s.IMService()}}},[s._v("联系客服")]):i("span",{staticClass:"ml_10",on:{click:function(t){return s.connectCs(s.storeMsg.yzfSign)}}},[i("Icon",{attrs:{custom:"icomoon icon-customer-service"}}),s._v("联系客服 ")],1)])],1)]),s.goodsMsg.data?i("article",{staticClass:"goods-content"},[i("main",{staticClass:"goods-main"},[i("section",{staticClass:"goods-section"},[s.goodsMsg.data?i("ShowGoods",{attrs:{detail:s.goodsMsg}}):s._e()],1),i("section",{staticClass:"goods-section"}),i("section",{staticClass:"goods-section detail-content"},[i("div",{staticClass:"detail-content-left"},[i("FxhhBox",{attrs:{title:"发现好物"}})],1),i("div",{staticClass:"detail-content-right"},[s.goodsMsg.data?i("ShowGoodsDetail",{attrs:{detail:s.goodsMsg}}):s._e()],1)])]),i("aside",{staticClass:"goods-aside"},[i("div",{staticClass:"shop-card"},[i("img",{attrs:{src:s.shopImg}})]),i("div",{staticClass:"others-card",staticStyle:{"margin-top":"20px"}},[i("FxhhBox",{attrs:{round:1,title:"推荐商品"}})],1)])]):s._e(),s.isLoading?i("Spin",{attrs:{size:"large",fix:""}}):s._e(),i("BaseFooter")],1)},[],!1,null,"39bf6c54",null));e.default=c.exports},c840:function(t,e,s){},ce84:function(t,e,s){},d608:function(t,e,s){"use strict";s("24ea")},d915:function(t,e,s){"use strict";s("c840")},e614:function(t,e,s){},ed2f:function(t,e,s){"use strict";s("20bd")},f49f:function(t){t.exports=JSON.parse('{"success":true,"message":"success","code":200,"timestamp":1642837780380,"result":{"storeId":"1376433565247471616","storeName":"A.Y Studio潮流定制","storeDisable":"OPEN","companyAddressPath":null,"storeLogo":"https://lilishop-oss.oss-cn-beijing.aliyuncs.com/8ecf36b017394285a61ea658e94bb344.png","storeDesc":"工厂店","pcPageData":null,"mobilePageData":null,"selfOperated":"1","goodsNum":139,"collectionNum":88,"yzfSign":"37ef9b97807d03c6741298ed4eb5b536d2d238e08a3c00fb01fe48f03a569974c99ad767e72c04b3165ef29aca2c488b505fe4ca","yzfMpSign":"32b8ff6f8d1c240be8d7fe51bdd6d44a6776ea86930afbe5c3c342825e942c914fc6126b6be1f003ab04aee1af9f442d2c33e1427529300671588866edaa4b12","merchantEuid":"uuuu00"}}')},f4a3:function(t,e,s){"use strict";s("5fed")},ff15:function(t,e,s){"use strict";s("e614")}}]);