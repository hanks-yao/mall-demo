(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-85ebfe78"],{"84a9":function(d,e,t){"use strict";t.d(e,"b",function(){return a}),t.d(e,"c",function(){return r}),t.d(e,"e",function(){return c}),t.d(e,"g",function(){return i}),t.d(e,"f",function(){return n}),t.d(e,"a",function(){return l}),t.d(e,"d",function(){return u});var s=t("ff66"),o=t("f49f");function a(e){return Object(s.d)({url:"/buyer/store/apply/first",needToken:!0,method:s.a.PUT,params:e})}function r(e){return Object(s.d)({url:"/buyer/store/apply/second",needToken:!0,method:s.a.PUT,params:e})}function c(e){return Object(s.d)({url:"/buyer/store/apply/third",needToken:!0,method:s.a.PUT,params:e})}function i(e){return o}function n(e){return Object(s.d)({url:"/buyer/store/label/get/"+e,needToken:!0,method:s.a.GET})}function l(){return Object(s.d)({url:"/buyer/article/type/STORE_REGISTER",needToken:!0,method:s.a.GET})}function u(){return Object(s.d)({url:"/buyer/store/apply",needToken:!0,method:s.a.GET})}},"9f83":function(e,t,s){"use strict";s.r(t);var o=s("84a9"),a=s("8194"),r=s("c40e"),c={name:"Merchant",data(){return{storeMsg:{},cateList:[],goodsList:[],total:0,params:{pageNumber:1,pageSize:20,keyword:"",storeId:this.$route.query.id,storeCatId:""},cateName:"店铺推荐",storeCollected:!1}},created(){this.getStoreMsg(),this.getCateList(),this.getGoodsList()},methods:{getStoreMsg(){Object(o.g)(this.$route.query.id).then(e=>{e.success&&(this.storeMsg=e.result,document.title=this.storeMsg.storeName,this.Cookies.getItem("userInfo")&&Object(a.H)("STORE",this.storeMsg.storeId).then(e=>{e.success&&e.result&&(this.storeCollected=!0)}))})},getCateList(){Object(o.f)(this.$route.query.id).then(e=>{e.success&&(this.cateList=e.result)})},getGoodsList(){Object(r.c)(this.params).then(e=>{e.success&&(this.goodsList=e.result.content,this.total=e.result.totalElements)}).catch(()=>{})},goGoodsDetail(e,t){e=this.$router.resolve({path:"/goodsDetail",query:{skuId:e,goodsId:t}});window.open(e.href,"_blank")},search(e){this.params.keyword=e,this.getGoodsList()},searchByCate(e){this.params.storeCatId=e.id,this.cateName=e.labelName,this.getGoodsList()},changePageNum(e){this.params.pageNumber=e,this.getGoodsList()},changePageSize(e){this.params.pageNumber=1,this.params.pageSize=e,this.getGoodsList()},async collect(){this.storeCollected?(await Object(a.k)("STORE",this.storeMsg.storeId)).success&&(this.$Message.success("已取消收藏"),this.storeCollected=!1):200===(await Object(a.o)("STORE",this.storeMsg.storeId)).code&&(this.storeCollected=!0,this.$Message.success("收藏店铺成功,可以前往个人中心我的收藏查看"))}}},s=(s("cefe"),s("2877")),s=Object(s.a)(c,function(){var s=this,e=s.$createElement,o=s._self._c||e;return o("div",{staticClass:"merchant"},[o("BaseHeader"),o("Search",{attrs:{store:!0},on:{search:s.search}}),o("div",{staticClass:"shop-logo"},[o("div",[o("img",{attrs:{src:s.storeMsg.storeLogo,height:"80",alt:""}}),o("div",[o("p",[s._v(s._s(s.storeMsg.storeName||"xx店铺"))]),o("p",{staticClass:"ellipsis",attrs:{alt:s.storeMsg.storeDesc},domProps:{innerHTML:s._s(s.storeMsg.storeDesc)}})]),o("div",[o("span",{staticClass:"hover-pointer",on:{click:s.collect}},[o("Icon",{attrs:{type:"ios-heart",color:s.storeCollected?"#ed3f14":"#fff"}}),s._v(s._s(s.storeCollected?"已收藏店铺":"收藏店铺"))],1),o("span",{staticClass:"hover-pointer ml_10",staticStyle:{width:"80px"},on:{click:function(e){return s.connectCs(s.storeMsg.yzfSign)}}},[o("Icon",{attrs:{custom:"icomoon icon-customer-service"}}),s._v("联系客服")],1)])])]),o("div",{staticClass:"store-category"},[o("ul",{staticClass:"cate-list"},[o("li",{staticClass:"cate-item",on:{click:function(e){return s.searchByCate({id:"",labelName:"店铺推荐"})}}},[s._v("首页")]),s._l(s.cateList,function(t,e){return o("li",{key:e,staticClass:"cate-item"},[t.children.length?o("Dropdown",[o("div",{on:{click:function(e){return e.target!==e.currentTarget?null:s.searchByCate(t)}}},[s._v(s._s(t.labelName)+" "),o("Icon",{attrs:{type:"ios-arrow-down"}})],1),o("DropdownMenu",{attrs:{slot:"list"},slot:"list"},s._l(t.children,function(t){return o("DropdownItem",{key:t.id,attrs:{name:t.id},nativeOn:{click:function(e){return s.searchByCate(t)}}},[s._v(s._s(t.labelName))])}),1)],1):o("span",{on:{click:function(e){return e.target!==e.currentTarget?null:s.searchByCate(t)}}},[s._v(s._s(t.labelName))])],1)})],2)]),o("div",{staticClass:"promotion-decorate"},[s._v(s._s(s.cateName))]),o("div",{staticClass:"goods-list"},[0===s.goodsList.length?o("empty"):s._l(s.goodsList,function(t,e){return o("div",{key:e,staticClass:"goods-show-info",on:{click:function(e){return s.goGoodsDetail(t.content.id,t.content.goodsId)}}},[o("div",{staticClass:"goods-show-img"},[o("img",{attrs:{width:"220",height:"220",src:t.content.thumbnail}})]),o("div",{staticClass:"goods-show-price"},[o("span",[o("span",{staticClass:"seckill-price text-danger"},[s._v(s._s(s._f("unitPrice")(t.content.price,"￥")))])])]),o("div",{staticClass:"goods-show-detail"},[o("span",[s._v(s._s(t.content.goodsName))])]),o("div",{staticClass:"goods-show-num"},[s._v(" 已有"),o("span",[s._v(s._s(t.content.commentNum||0))]),s._v("人评价 ")])])})],2),o("div",{staticClass:"goods-page"},[o("Page",{attrs:{"show-sizer":"",total:s.total,"page-size":s.params.pageSize},on:{"on-change":s.changePageNum,"on-page-size-change":s.changePageSize}})],1),o("BaseFooter")],1)},[],!1,null,"7a0dea34",null);t.default=s.exports},cefe:function(e,t,s){"use strict";s("eb3c")},eb3c:function(e,t,s){},f49f:function(e){e.exports=JSON.parse('{"success":true,"message":"success","code":200,"timestamp":1642837780380,"result":{"storeId":"1376433565247471616","storeName":"A.Y Studio潮流定制","storeDisable":"OPEN","companyAddressPath":null,"storeLogo":"https://lilishop-oss.oss-cn-beijing.aliyuncs.com/8ecf36b017394285a61ea658e94bb344.png","storeDesc":"工厂店","pcPageData":null,"mobilePageData":null,"selfOperated":"1","goodsNum":139,"collectionNum":88,"yzfSign":"37ef9b97807d03c6741298ed4eb5b536d2d238e08a3c00fb01fe48f03a569974c99ad767e72c04b3165ef29aca2c488b505fe4ca","yzfMpSign":"32b8ff6f8d1c240be8d7fe51bdd6d44a6776ea86930afbe5c3c342825e942c914fc6126b6be1f003ab04aee1af9f442d2c33e1427529300671588866edaa4b12","merchantEuid":"uuuu00"}}')}}]);